(()=>{"use strict";const e=function(){function e(){this.products=[]}return e.prototype.all=function(){return this.products},e.prototype.findById=function(e){return this.products.find((function(t){return t.id==e}))},e.prototype.add=function(e){this.products.push(e)},e}(),t=function(){function e(){this.name="",this.price="",this.description="",this.stock=0,this.id=0,this.image="",this.category=""}return e.prototype.setName=function(e){this.name=e},e.prototype.getName=function(){return this.name},e.prototype.setPrice=function(e){this.price=e},e.prototype.getPrice=function(){return this.price},e.prototype.setDescription=function(e){this.description=e},e.prototype.getDescription=function(){return this.description},e.prototype.setId=function(e){this.id=e},e.prototype.getId=function(){return this.id},e}(),n=function(){function e(){this.products=[]}return e.prototype.add=function(e){if(!(e instanceof t))throw Error("Parameter should be Product type");this.products.push(e)},e}(),i=function(){function e(){this.name="",this.age=0,this.email=""}return e.prototype.setName=function(e){this.name=e},e.prototype.getName=function(){return this.name},e.prototype.setAge=function(e){this.age=e},e.prototype.getAge=function(){return this.age},e.prototype.setEmail=function(e){this.email=e},e.prototype.getEmail=function(){return this.email},e.prototype.delete=function(e){},e}(),o=function(){function t(){this.user=new i,this.catalog=new e,this.cart=new n}return t.prototype.getCart=function(){return this.cart},t.prototype.getCatalog=function(){return this.catalog},t}();function r(e){var t=document.getElementById(e),n=t.style.border;switch(t.style.border="3px solid red",t.focus(),e){case"name":alert("Ingrese un nombre");break;case"email":alert("Ingrese un email");break;case"age":alert("Seleccione una edad")}setTimeout((function(){t.style.border=n}),3e3)}var c,a;!function(e){e[e.Course=0]="Course",e[e.Book=1]="Book",e[e.Software=2]="Software"}(c||(c={})),function(e){e[e.Admin=0]="Admin",e[e.User=1]="User",e[e.Invited=2]="Invited"}(a||(a={}));var s=new o;!function(e){[{id:1,name:"El Inversor Inteligente",price:"$123",description:"",stock:1,image:"",category:c.Book},{id:2,name:"Finanzas personales",price:"$223",description:"",stock:1,image:"",category:c.Course},{id:3,name:"Introducción al Análisis Fundamental",description:"",stock:1,image:"",price:"$1323",category:c.Book},{id:1,name:"Security Analysis",price:"$123",description:"",stock:1,image:"",category:c.Book},{id:2,name:"Personal & Family Financial Planning",price:"$223",description:"",stock:1,image:"",category:c.Course},{id:3,name:"Xero",price:"$1323",description:"",stock:1,image:"",category:c.Software},{id:1,name:"FreeAgent",price:"$123",description:"",stock:1,image:"",category:c.Software},{id:2,name:"AmiBroker",price:"$223",description:"",stock:1,image:"",category:c.Software},{id:3,name:"NinjaTrader",price:"$1323",description:"",stock:1,image:"",category:c.Software}].forEach((function(n){var i=new t;i.name=n.name,i.price=n.price,i.id=n.id,e.catalog.add(i)}))}(s);var d=s.getCatalog();if(function(e,t){Array.from(e.getElementsByClassName("js-product-list")).forEach((function(e){e.innerHTML=t.all().map((function(e){return function(e){return'\n        <div class="product">\n            <div class="level">'+e.name+"</div>\n            <h2>"+e.price+'</h2>\n            <ul>\n                <li>Lorem ipsum.</li>\n                <li>Lorem ipsum, lorem ipsum.</li>\n                <li>Lorem ipsum.</li>\n                <li>Lorem ipsum.</li>\n            </ul>\n            <div class="buy-details-buttons">\n                <button class="btn js-details" data-product-id="'+e.id+'">\n                    Detalles\n                </button>\n                <button class="btn js-add-to-cart" data-product-id="'+e.id+'">\n                    Comprar\n                </button>\n            </div>\n        </div>\n    '}(e)})).join("")}))}(document,d),function(e){document.querySelectorAll(".js-add-to-cart").forEach((function(t){t.addEventListener("click",(function(){var t=e.getCatalog().findById(this.dataset.productId);e.getCart().add(t),document.getElementById("js-cart").innerHTML=String(e.getCart().products.length)}))})),document.querySelectorAll(".js-details").forEach((function(e){e.addEventListener("click",(function(){var e=this.dataset.productId;window.location.href="/product-details.html?id="+e}))}))}(s),console.log("asd"),"/product-details.html"==window.location.pathname){var u=new URL(window.location.href).searchParams.get("id");!function(e){fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(t){t.forEach((function(t){if(t.id==e){var n=t;document.getElementById("js-details").innerHTML='\n                <div class="details">\n                    <h1>'+n.title.slice(0,10)+'</h1>\n                    <img class="product-detail-img" src="https://c8.alamy.com/compes/2d8kced/analisis-fundamental-analisis-de-la-inversion-en-acciones-mediante-la-busqueda-de-datos-de-la-empresa-2d8kced.jpg">\n                    <ul>\n                        <li>'+n.body.slice(0,40)+"</li>\n                        <li>"+n.body.slice(15,50)+"</li>\n                        <li>"+n.body.slice(50)+"</li>\n                        <li>"+n.body.slice(0,30)+"</li>\n                        <li>"+n.body.slice(15,45)+"</li>\n                    </ul>\n                </div>\n            "}}))})).catch((function(e){console.log(e);var t=e.StatusText||"An error occurred";document.getElementById("js-details").innerHTML="Error "+e.status+": "+t}))}(u),function(e){fetch("https://jsonplaceholder.typicode.com/comments").then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(t){var n=t,i=document.getElementById("js-comment-section");n.forEach((function(t){if(t.id==e){var n=t,o=n.email.slice(0,n.email.indexOf("@"));i.innerHTML="\n                    <h1>Comments</h1>\n                    <h2>"+o+"</h2>\n                    <ul>\n                        <li>"+n.body+"</li>\n                    </ul>\n                    "}}))})).catch((function(e){console.log(e);var t=e.StatusText||"An error occurred";document.getElementById("js-comment-section").innerHTML="Error "+e.status+": "+t}))}(u)}document.getElementById("form")&&document.getElementById("form").addEventListener("submit",(function(e){e.preventDefault();var t=document.getElementById("name"),n=document.getElementById("email"),o=document.getElementById("age");if(""==t.value||null==t)return r("name");if(""==n.value||null==n)return r("email");if(""==o.value||null==o)return r("age");var c=new i;c.setName(t.value),c.setEmail(n.value),c.setAge(parseInt(o.value)),alert("Bienvenido, "+t.value),window.location.href="/product-list.html"})),document.querySelector(".dropdown-menu")&&document.querySelector(".dropdown-menu").addEventListener("click",(function(){var e=document.querySelector(".content"),t="hidden",n="visible";e.classList.contains(t)?e.classList.replace(t,n):e.classList.replace(n,t)}))})();